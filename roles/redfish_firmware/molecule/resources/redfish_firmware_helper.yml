---
- name: Fetch env variable for redfish_firmware
  ansible.builtin.set_fact:
    redfish_firmware_http_need_no_reboot: "{{ lookup('env', 'redfish_firmware_image_url_without_reboot') }}"
    redfish_firmware_local_need_manual_reboot: "{{ lookup('env', 'redfish_firmware_image_url_need_reboot') }}"

  # Downloading firmware image locally as it can have large size of file.
- name: Downloading firmware image for local manual reboot
  ansible.builtin.get_url:
    url: "{{ redfish_firmware_local_need_manual_reboot }}"
    dest: "/tmp"
  register: download_local_manual_reboot_firmware
  delegate_to: localhost
