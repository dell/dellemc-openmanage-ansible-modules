---
- hosts: redfish
  connection: local
  name: Configure Server Power Setting
  gather_facts: false

  tasks:
    - name: Manage power state of the first device.
      dellemc.openmanage.redfish_powerstate:
        baseuri: "{{ baseuri }}"
        username: "{{ username }}"
        password: "{{ password }}"
        ca_path: "/path/to/ca_cert.pem"
        reset_type: "On"

    - name: Manage power state of a specified device.
      dellemc.openmanage.redfish_powerstate:
        baseuri: "{{ baseuri }}"
        username: "{{ username }}"
        password: "{{ password }}"
        ca_path: "/path/to/ca_cert.pem"
        reset_type: "ForceOff"
        resource_id: "System.Embedded.1"
