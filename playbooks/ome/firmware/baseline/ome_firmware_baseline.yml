---
- hosts: ome
  connection: local
  name: Dell OpenManage Ansible OME firmware baseline operations.
  gather_facts: False

  collections:
    - dellemc.openmanage

  tasks:
  - name: Create baseline for device IDs
    ome_firmware_baseline:
      hostname: "{{hostname}}"
      username: "{{username}}"
      password: "{{password}}"
      baseline_name: "baseline_name"
      baseline_description: "baseline_description"
      catalog_name: "catalog_name"
      device_ids:
        - 1010
        - 2020

  - name: Create baseline for servicetags
    ome_firmware_baseline:
      hostname: "{{hostname}}"
      username: "{{username}}"
      password: "{{password}}"
      baseline_name: "baseline_name"
      baseline_description: "baseline_description"
      catalog_name: "catalog_name"
      device_service_tags:
        - "SVCTAG1"
        - "SVCTAG2"

  - name: create baseline for device groups without job_tracking
    ome_firmware_baseline:
      hostname: "{{hostname}}"
      username: "{{username}}"
      password: "{{password}}"
      baseline_name: "baseline_name"
      baseline_description: "baseline_description"
      catalog_name: "catalog_name"
      device_group_names:
        - "Group1"
        - "Group2"
      job_wait: no

  - name: Modify an existing baseline
    ome_firmware_baseline:
      hostname: "{{hostname}}"
      username: "{{username}}"
      password: "{{password}}"
      baseline_name: "existing_baseline_name"
      new_baseline_name: "new_baseline_name"
      baseline_description: "new baseline_description"
      catalog_name: "catalog_other"
      device_group_names:
        - "Group3"
        - "Group4"
        - "Group5"
      downgrade_enabled: no
      is_64_bit: yes

  - name: Delete a baseline
    ome_firmware_baseline:
      hostname: "{{hostname}}"
      username: "{{username}}"
      password: "{{password}}"
      state: absent
      baseline_name: "baseline_name"