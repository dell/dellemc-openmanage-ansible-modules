- '        This module allows you to run and export SupportAssist'
- '        collection logs on iDRAC.'
- ''
- 'ADDED IN: version 9.6.0 of dellemc.openmanage'
- ''
- 'OPTIONS (= is mandatory):'
- ''
- '- accept_eula'
- '        This parameter accepts the EULA terms and conditions that are'
- '        required for SupportAssist registration.'
- '        If EULA terms and conditions are not accepted, then the'
- '        SupportAssist collection cannot be run or exported.'
- '        default: null'
- '        type: bool'
- ''
- '- ca_path'
- '        The Privacy Enhanced Mail (PEM) file that contains a CA'
- '        certificate to be used for the validation.'
- '        default: null'
- '        type: path'
- '        added in: version 5.0.0 of dellemc.openmanage'
- ''
- ''
- '- data_collector'
- '        This option provides the choice of data to keep in'
- '        SupportAssist collection.'
- '        System Information is available in on the SupportAssist'
- '        collection by default.'
- '        `hardware_data'', SupportAssist collection includes data that'
- '        are related to hardware.'
- '        `storage_logs'', SupportAssist collection includes logs that'
- '        are related to storage devices.'
- '        `os_app_data'', SupportAssist collection includes data that is'
- '        related to the operating system and applications.'
- '        `debug_logs'', SupportAssist collection includes logs that are'
- '        related to debugging.'
- '        `telemetry_reports'', SupportAssist collection includes reports'
- '        that are related to telemetry.'
- '        `gpu_logs'', SupportAssist collection includes logs that are'
- '        related to GPUs.'
- '        choices: [hardware_data, storage_logs, os_app_data, debug_logs, telemetry_reports,
    gpu_logs]'
- '        default: null'
- '        elements: str'
- '        type: list'
- ''
- '- export'
- '        Exports the SupportAssist collection to the given network'
- '        share.'
- '        This operation requires `share_parameters''.'
- '        default: true'
- '        type: bool'
- ''
- '- filter_data'
- '        This option provides the choice to filter data for privacy. It'
- '        does not include hostname, MAC address, thermal data, logs, or'
- '        registry content.'
- '        default: false'
- '        type: bool'
- ''
- = idrac_ip
- '        iDRAC IP Address.'
- '        type: str'
- ''
- '- idrac_password'
- '        iDRAC user password.'
- '        If the password is not provided, then the environment variable'
- '        `IDRAC_PASSWORD'' is used.'
- '        Example: export IDRAC_PASSWORD=password'
- '        aliases: [idrac_pwd]'
- '        default: null'
- '        type: str'
- ''
- '- idrac_port'
- '        iDRAC port.'
- '        default: 443'
- '        type: int'
- ''
- '- idrac_user'
- '        iDRAC username.'
- '        If the username is not provided, then the environment variable'
- '        `IDRAC_USERNAME'' is used.'
- '        Example: export IDRAC_USERNAME=username'
- '        default: null'
- '        type: str'
- ''
- '- job_wait'
- '        This option determines whether to wait for the job completion'
- '        or not.'
- '        default: true'
- '        type: bool'
- ''
- '- job_wait_timeout'
- '        Time in seconds to wait for job completion.'
- '        This is applicable when `job_wait'' is `true''.'
- '        default: 3600'
- '        type: int'
- ''
- '- resource_id'
- '        Id of the resource.'
- '        If the value for resource ID is not provided, the module picks'
- '        the first resource ID available from the list of system'
- '        resources that are returned by the iDRAC.'
- '        default: null'
- '        type: str'
- ''
- '- run'
- '        Run the SupportAssist job based on the different types of logs'
- '        in the collection on iDRAC.'
- '        default: true'
- '        type: bool'
- ''
- '- share_parameters'
- '        Parameters that are required for the export operation of'
- '        SupportAssist collection.'
- '        `share_parameters'' is required when `export'' is `true''.'
- '        default: null'
- '        type: dict'
- ''
- '        SUBOPTIONS:'
- ''
- '        - ignore_certificate_warning'
- '            Ignores the certificate warning when connecting to the'
- '            network share and is only applicable when `share_type'' is'
- '            `https''.'
- '            `on'' ignores the certificate warning.'
- '            `off'' does not ignore the certificate warning.'
- '            choices: [''off'', ''on'']'
- '            default: ''off'''
- '            type: str'
- ''
- '        - ip_address'
- '            IP address of the network share.'
- '            `ip_address'' is required when `share_type'' is `nfs'','
- '            `cifs'', `http'', or `https''.'
- '            `ip_address'' is not required when `share_type'' is `local''.'
- '            default: null'
- '            type: str'
- ''
- '        - password'
- '            Password of the network share.'
- '            `password'' is required when `share_type'' is `cifs''.'
- '            default: null'
- '            type: str'
- ''
- '        - proxy_password'
- '            The password of the proxy server.'
- '            `proxy_password'' is only applicable when `share_type'' is'
- '            `http'' or `https'' and when `proxy_support'' is'
- '            `parameters_proxy''.'
- '            default: null'
- '            type: str'
- ''
- '        - proxy_port'
- '            The port of the proxy server.'
- '            `proxy_port'' is only applicable when `share_type'' is'
- '            `http'' or `https'' and when `proxy_support'' is'
- '            `parameters_proxy''.'
- '            default: 80'
- '            type: int'
- ''
- '        - proxy_server'
- '            The IP address of the proxy server.'
- '            `proxy_server'' is required when `proxy_support'' is'
- '            `parameters_proxy''.'
- '            `proxy_server'' is only applicable when `share_type'' is'
- '            `http'' or `https'' and when `proxy_support'' is'
- '            `parameters_proxy''.'
- '            default: null'
- '            type: str'
- ''
- '        - proxy_support'
- '            Specifies if proxy support must be used or not.'
- '            `off'' does not use proxy settings.'
- '            `default_proxy'' uses the default proxy settings.'
- '            `parameters_proxy'' uses the specified proxy settings.'
- '            `proxy_server'' is required when `proxy_support'' is'
- '            `parameters_proxy''.'
- '            `proxy_support'' is only applicable when `share_type'' is'
- '            `http'' or `https''.'
- '            choices: [''off'', default_proxy, parameters_proxy]'
- '            default: ''off'''
- '            type: str'
- ''
- '        - proxy_type'
- '            The proxy type of the proxy server.'
- '            `http'' to select HTTP proxy.'
- '            `socks'' to select SOCKS proxy.'
- '            `proxy_type'' is only applicable when `share_type'' is'
- '            `http'' or `https'' and when `proxy_support'' is'
- '            `parameters_proxy''.'
- '            choices: [http, socks]'
- '            default: http'
- '            type: str'
- ''
- '        - proxy_username'
- '            The username of the proxy server.'
- '            `proxy_username'' is only applicable when `share_type'' is'
- '            `http'' or `https'' and when `proxy_support'' is'
- '            `parameters_proxy''.'
- '            default: null'
- '            type: str'
- ''
- '        - share_name'
- '            Network share path or full local path of the directory for'
- '            exporting the SupportAssist collection file.'
- '            The default path will be current directory when'
- '            `share_type'' is `local'''
- '            default: null'
- '            type: str'
- ''
- '        - share_type'
- '            Share type of the network share.'
- '            `local'' uses local path for `export'' operation.'
- '            `nfs'' uses NFS share for `export'' operation.'
- '            `cifs'' uses CIFS share for `export'' operation.'
- '            `http'' uses HTTP share for `export'' operation.'
- '            `https'' uses HTTPS share for `export'' operation.'
- '            `ftp'' uses FTP share for `export'' operation.'
- '            choices: [local, nfs, cifs, http, https, ftp]'
- '            default: local'
- '            type: str'
- ''
- '        - username'
- '            Username of the network share.'
- '            `username'' is required when `share_type'' is `cifs''.'
- '            default: null'
- '            type: str'
- ''
- '        - workgroup'
- '            Workgroup of the network share.'
- '            `workgroup'' is applicable only when `share_type'' is'
- '            `cifs''.'
- '            default: null'
- '            type: str'
- ''
- '- timeout'
- '        The socket level timeout in seconds.'
- '        default: 30'
- '        type: int'
- '        added in: version 5.0.0 of dellemc.openmanage'
- ''
- ''
- '- validate_certs'
- '        If `false'', the SSL certificates will not be validated.'
- '        Configure `false'' only on personally controlled sites where'
- '        self-signed certificates are used.'
- '        Prior to collection version `5.0.0'', the `validate_certs'' is'
- '        `false'' by default.'
- '        default: true'
- '        type: bool'
- '        added in: version 5.0.0 of dellemc.openmanage'
- ''
- ''
- '- x_auth_token'
- '        Authentication token.'
- '        If the x_auth_token is not provided, then the environment'
- '        variable `IDRAC_X_AUTH_TOKEN'' is used.'
- '        Example: export IDRAC_X_AUTH_TOKEN=x_auth_token'
- '        default: null'
- '        type: str'
- '        added in: version 9.3.0 of dellemc.openmanage'
- ''
- ''
- ''
- 'NOTES:'
- '      * Run this module from a system that has direct access to'
- '        Dell iDRAC.'
- '      * This module supports only iDRAC9 and above.'
- '      * This module supports IPv4 and IPv6 addresses.'
- '      * This module supports `check_mode''.'
- '      * `local'' for `share_type'' is applicable only when `run'''
- '        and `export'' is `true''.'
- '      * When `share_type'' is `local'' for `run'' and (export)'
- '        operation, then job_wait is not applicable.'
- ''
- ''
- 'REQUIREMENTS:  python >= 3.9.6'
- ''
- 'AUTHOR: Shivam Sharma(@ShivamSh3)'
- ''
- 'EXAMPLES:'
- ''
- '---'
- '- name: Accept the EULA and run and export the SupportAssist Collection to local
    path'
- '  dellemc.openmanage.idrac_support_assist:'
- '    hostname: "192.168.0.1"'
- '    username: "username"'
- '    password: "password"'
- '    accept_eula: true'
- '    ca_path: "path/to/ca_file"'
- '    data_collector: ["debug_logs", "hardware_data", "os_app_data", "storage_logs"]'
- '    share_parameters:'
- '      share_type: "local"'
- '      share_path: "/opt/local/support_assist_collections/"'
- ''
- '- name: Run the SupportAssist Collection with with custom data_to_collect with
    filter_data'
- '  dellemc.openmanage.idrac_support_assist:'
- '    hostname: "192.168.0.1"'
- '    username: "username"'
- '    password: "password"'
- '    ca_path: "path/to/ca_file"'
- '    export: false'
- '    filter_data: true'
- '    data_collector: ["debug_logs", "hardware_data"]'
- ''
- '- name: Run and export the SupportAssist Collection to HTTPS share'
- '  dellemc.openmanage.idrac_support_assist:'
- '    hostname: "192.168.0.1"'
- '    username: "username"'
- '    password: "password"'
- '    ca_path: "path/to/ca_file"'
- '    data_collector: ["hardware_data"]'
- '    share_parameters:'
- '      share_type: "HTTPS"'
- '      ignore_certificate_warning: "on"'
- '      share_name: "/share_path/support_assist_collections"'
- '      ip_address: "192.168.0.2"'
- ''
- '- name: Run and export the SupportAssist Collection to NFS share'
- '  dellemc.openmanage.idrac_support_assist:'
- '    hostname: "192.168.0.1"'
- '    username: "username"'
- '    password: "password"'
- '    ca_path: "path/to/ca_file"'
- '    data_collector: ["debug_logs"]'
- '    share_parameters:'
- '      share_type: "NFS"'
- '      share_name: "nfsshare/support_assist_collections/"'
- '      ip_address: "192.168.0.3"'
- ''
- '- name: Export the last SupportAssist Collection to CIFS share'
- '  dellemc.openmanage.idrac_support_assist:'
- '    hostname: "192.168.0.1"'
- '    username: "username"'
- '    password: "password"'
- '    ca_path: "path/to/ca_file"'
- '    run: false'
- '    share_parameters:'
- '      share_type: "NFS"'
- '      share_name: "/cifsshare/support_assist_collections/"'
- '      ip_address: "192.168.0.4"'
- ''
- '- name: Export the last SupportAssist Collection to HTTPS share via proxy'
- '  dellemc.openmanage.idrac_support_assist:'
- '    hostname: "192.168.0.1"'
- '    username: "username"'
- '    password: "password"'
- '    ca_path: "path/to/ca_file"'
- '    run: false'
- '    share_parameters:'
- '      share_type: "HTTPS"'
- '      share_name: "/share_path/support_assist_collections"'
- '      ignore_certificate_warning: "on"'
- '      ip_address: "192.168.0.2"'
- '      proxy_support: parameters_proxy'
- '      proxy_type: http'
- '      proxy_server: "192.168.0.5"'
- '      proxy_port: 1080'
- '      proxy_username: "proxy_user"'
- '      proxy_password: "proxy_password"'
- ''
- ''
- 'RETURN VALUES:'
- '- error_info'
- '        Details of the HTTP Error.'
- '        returned: on HTTP error'
- '        sample:'
- '          error:'
- '            ''@Message.ExtendedInfo'':'
- '            - Message: Unable to start the operation because the SupportAssist
    End User License'
- '                Agreement (EULA) is not accepted.'
- '              MessageArgs: []'
- '              MessageArgs@odata.count: 0'
- '              MessageId: IDRAC.2.8.SRV085'
- '              RelatedProperties: []'
- '              RelatedProperties@odata.count: 0'
- '              Resolution: Accept the SupportAssist End User License Agreement (EULA)
    by navigating'
- '                to the SupportAssist page on the iDRAC GUI.'
- '              Severity: Warning'
- '            code: Base.1.12.GeneralError'
- '            message: A general error has occurred. See ExtendedInfo for more information.'
- '        type: dict'
- ''
- '- job_details'
- '        Returns the output for status of the job.'
- '        returned: For run and export operations'
- '        sample:'
- '          ActualRunningStartTime: ''2024-07-08T01:50:54'''
- '          ActualRunningStopTime: ''2024-07-08T01:56:45'''
- '          CompletionTime: ''2024-07-08T01:56:45'''
- '          Description: Job Instance'
- '          EndTime: null'
- '          Id: JID_204214544066'
- '          JobState: Completed'
- '          JobType: SACollectExportHealthData'
- '          Message: The SupportAssist Collection and Transmission Operation is completed
    successfully.'
- '          MessageArgs: []'
- '          MessageArgs@odata.count: 0'
- '          MessageId: SRV088'
- '          Name: SupportAssist Collection'
- '          PercentComplete: 100'
- '          StartTime: ''2024-07-08T01:50:54'''
- '          TargetSettingsURI: null'
- '        type: dict'
- ''
- '- msg'
- '        Status of the SupportAssist operation.'
- '        returned: always'
- '        sample: Successfully ran and exported the SupportAssist collection.'
- '        type: str'
